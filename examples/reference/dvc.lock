schema: '2.0'
stages:
  prepare-mnist:
    cmd: cd step4 && python3 prepare_mnist.py
    deps:
    - path: data/fashion-mnist/t10k-images-idx3-ubyte.gz
      md5: 3f731c1801c9c24603b743b45115403d
      size: 4422102
    - path: data/fashion-mnist/t10k-labels-idx1-ubyte.gz
      md5: 070f191891f2e14396b11a9b89cb244b
      size: 5148
    - path: data/fashion-mnist/train-images-idx3-ubyte.gz
      md5: fc6c9afc03e7c02ddd265b252524d461
      size: 26421880
    - path: data/fashion-mnist/train-labels-idx1-ubyte.gz
      md5: b64ffa39d1f5c4d34e7f75a48149c485
      size: 29515
    - path: step4/prepare_mnist.py
      md5: 125b6cf9083d6badd2d748726b9852cb
      size: 402
    outs:
    - path: data/fashion-mnist/test.pickle
      md5: e86737aa7d8d8f5d588f91f0ed882e1f
      size: 15732309
    - path: data/fashion-mnist/train.pickle
      md5: 1c7f87c1445bd183785e8b20c3d79369
      size: 94393209
  train:
    cmd: cd step4 && python3 train-vertex.py
    deps:
    - path: data/fashion-mnist/test.pickle
      md5: e86737aa7d8d8f5d588f91f0ed882e1f
      size: 15732309
    - path: data/fashion-mnist/train.pickle
      md5: 1c7f87c1445bd183785e8b20c3d79369
      size: 94393209
    - path: step4/train-vertex.py
      md5: af103a2d55ea2ea2de4680be171faf10
      size: 2931
    - path: step4/train.py
      md5: b26c4f950bb8fb7684fb8f0349547a0c
      size: 2798
    params:
      params.yaml:
        train.n_neighbours: 10
    outs:
    - path: model/vertex_model.json
      md5: 672ee9a676cbd6236d0a693cd6e9f7ec
      size: 89
